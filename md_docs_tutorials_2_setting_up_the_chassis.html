<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="LemLib" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta property="og:description" content="An easy to use and feature-rich PROS template for the Vex V5" />
<meta property="og:url" content="https://lemlib.github.io/LemLib/html/index.html" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta name="twitter:title" content="LemLib" />
<meta name="twitter:description" content="An easy to use and feature-rich PROS template for the Vex V5" />
<!-- END twitter metadata -->
<title>LemLib: 02 - Setting Up The Chassis</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.drawio.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/LemLib/LemLib" class="github-corner" title="View source on GitHub" target="_blank">
    <svg viewBox="0 0 250 250" width="40" height="40" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LemLib
   &#160;<span id="projectnumber">0.4.5</span>
   </div>
   <div id="projectbrief">An easy to use and feature-rich PROS template</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_docs_tutorials_2_setting_up_the_chassis.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">02 - Setting Up The Chassis </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md12"></a>
Introduction</h1>
<p >You have made it to the second tutorial! Now that you have LemLib installed, we can start using it. In this tutorial, we will be setting up the chassis.</p>
<p >The chassis has multiple components. LemLib will handle everything for you, but you need to tell it what components you have.</p>
<h1><a class="anchor" id="autotoc_md13"></a>
The Drivetrain</h1>
<p >A vital component of any robot is the drivetrain. The drivetrain is what allows the robot to move around the field. LemLib needs to know what motors are in the drivetrain. Lets start by setting up the motors.</p>
<p >In <a href="https://pros.cs.purdue.edu/v5/api/cpp/index.html">PROS</a>, setting up a motor is trivial. All you need to do is create a motor object, set its port, what cartridge its using, and if it is reversed or not. We need to do this for each motor on the drivetrain. Below is an example:</p>
<div class="fragment"><div class="line">pros::Motor left_front_motor(1, pros::E_MOTOR_GEARSET_06, <span class="keyword">false</span>); <span class="comment">// port 1, blue gearbox, not reversed</span></div>
<div class="line">pros::Motor left_back_motor(2, pros::E_MOTOR_GEARSET_18, <span class="keyword">false</span>); <span class="comment">// port 2, green gearbox, not reversed</span></div>
<div class="line">pros::Motor right_front_motor(3, pros::E_MOTOR_GEARSET_36, <span class="keyword">true</span>); <span class="comment">// port 3, red gearbox, reversed</span></div>
<div class="line">pros::Motor right_back_motor(4, pros::E_MOTOR_GEARSET_36, <span class="keyword">true</span>); <span class="comment">// port 4, red gearbox, reversed</span></div>
</div><!-- fragment --><p >Now we need to group the left side and right side motors so we can pass it to LemLib. To do this, we can use the <code>pros::MotorGroup</code> class. Here is an example: </p><div class="fragment"><div class="line">pros::MotorGroup left_side_motors({left_front_motor, left_back_motor});</div>
<div class="line">pros::MotorGroup right_side_motors({right_front_motor, right_back_motor});</div>
</div><!-- fragment --><p >Now that we have the motors set up, we need to tell LemLib about the track width, wheel diameter, and wheel rpm of the drivetrain. Let's start with the track width. The track width is the distance between the left and right drivetrain wheels, as shown in the image below:</p>
<p ><img src="./assets/2_setting_up_the_chassis/track_width.png" alt="" height="400" style="display: block;margin-left: auto;margin-right: auto;" class="inline"/></p>
<p >We also need to tell LemLib the diameter of the wheels. Wheels typically come in 4 sizes: 2.75&quot;, 3.25&quot;, 4&quot;, and 4.125&quot;. After that, we need to tell LemLib the rpm of the wheels. If your drivetrain is not geared, then the rpm of the wheels is the same as the rpm of the motor cartridge. If it is geared, refer to <a href="https://docs.google.com/spreadsheets/d/1RSoLv3tnpiCgFyHb0QayxK-42r9MgVRD_4QQmeFM618/edit#gid=0">this spreadsheet</a> to find the rpm of the wheels.</p>
<p >Now that we have all the information we need, we can create a <code><a class="el" href="structlemlib_1_1Drivetrain__t.html">lemlib::Drivetrain_t</a></code> struct to pass to LemLib. Below is an example: </p><div class="fragment"><div class="line"><a class="code hl_struct" href="structlemlib_1_1Drivetrain__t.html">lemlib::Drivetrain_t</a> drivetrain {</div>
<div class="line">    &amp;leftMotors, <span class="comment">// left drivetrain motors</span></div>
<div class="line">    &amp;rightMotors, <span class="comment">// right drivetrain motors</span></div>
<div class="line">    10, <span class="comment">// track width</span></div>
<div class="line">    3.25, <span class="comment">// wheel diameter</span></div>
<div class="line">    360 <span class="comment">// wheel rpm</span></div>
<div class="line">};</div>
<div class="ttc" id="astructlemlib_1_1Drivetrain__t_html"><div class="ttname"><a href="structlemlib_1_1Drivetrain__t.html">lemlib::Drivetrain_t</a></div><div class="ttdef"><b>Definition:</b> chassis.hpp:65</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md14"></a>
Odometry</h1>
<p >A crucial component of a consistent autonomous is position tracking, commonly known as odometry. Odometry allows the robot to know where it is on the field. LemLib has built in odometry, and is compatible with most tracking wheel / inertial sensor combinations. To set up odometry, we need to tell LemLib what sensors we are using. Lets start with the tracking wheels.</p>
<p >Tracking Wheels are unpowered wheels that are used to track the movement of the robot. Below is a photo of a typical tracking wheel:</p>
<p ><img src="./assets/2_setting_up_the_chassis/tracking_wheel.png" alt="" height="400" style="display: block;margin-left: auto;margin-right: auto;" class="inline"/></p>
<p >A tracking wheel can rotate freely on a screw joint, and rubber bands pull it down so it makes consistent contact with the field tiles. Tracking wheels can be connected to either an Optical Shaft Encoder or a V5 Rotation Sensor. Both are supported by LemLib.</p>
<p >The first step in setting up the tracking wheels is to create an object for the encoder. Below is an example of how to do this: </p><div class="fragment"><div class="line">pros::ADIEncoder enc(<span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;B&#39;</span>, <span class="keyword">true</span>); <span class="comment">// ports A and B, reversed</span></div>
<div class="line">pros::Rotation rot(1, <span class="keyword">false</span>); <span class="comment">// port 1, not reversed</span></div>
</div><!-- fragment --><p >Next, we have to create a <code><a class="el" href="classlemlib_1_1TrackingWheel.html">lemlib::TrackingWheel</a></code> object. This contains information about the tracking wheel, such as the diameter and its offset from the tracking center. Below is an example of how to do this: </p><div class="fragment"><div class="line"><span class="comment">// uses &quot;enc&quot; as the encoder. 2.75&quot; wheel diameter, 4.3&quot; offset from tracking center</span></div>
<div class="line"><a class="code hl_class" href="classlemlib_1_1TrackingWheel.html">lemlib::TrackingWheel</a> left_tracking_wheel(&amp;enc, 2.75, 4.3);</div>
<div class="ttc" id="aclasslemlib_1_1TrackingWheel_html"><div class="ttname"><a href="classlemlib_1_1TrackingWheel.html">lemlib::TrackingWheel</a></div><div class="ttdef"><b>Definition:</b> trackingWheel.hpp:19</div></div>
</div><!-- fragment --><p >Hold on, how far away from the tracking center is the tracking wheel? Turns out, its not the straight distance to the center of the robot, but only one component of it. Below is a diagram which shows the relationship between the tracking center and the tracking wheel: <img src="./assets/2_setting_up_the_chassis/tracking_wheel_distance.png" alt="" height="800" style="display: block;margin-left: auto;margin-right: auto;" class="inline"/></p>
<p >Remember, vertical tracking wheels should have a negative offset if on the left of the tracking center, and horizontal tracking wheels should have a negative offset if in front of the tracking center.</p>
<p >Now, we can put all the tracking wheels together into a struct with <code><a class="el" href="structlemlib_1_1OdomSensors__t.html" title="Struct containing all the sensors used for odometry.">lemlib::OdomSensors_t</a></code>. This struct will be passed to the LemLib chassis. Below is an example of how to do this: </p><div class="fragment"><div class="line"><span class="comment">// left tracking wheel encoder</span></div>
<div class="line">pros::ADIEncoder left_enc(<span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;B&#39;</span>, <span class="keyword">true</span>); <span class="comment">// ports A and B, reversed</span></div>
<div class="line"><span class="comment">// right tracking wheel encoder</span></div>
<div class="line">pros::Rotation right_rot(1, <span class="keyword">false</span>); <span class="comment">// port 1, not reversed</span></div>
<div class="line"><span class="comment">// back tracking wheel encoder</span></div>
<div class="line">pros::ADIEncoder back_enc(<span class="charliteral">&#39;C&#39;</span>, <span class="charliteral">&#39;D&#39;</span>, <span class="keyword">false</span>); <span class="comment">// ports C and D, not reversed</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// left tracking wheel</span></div>
<div class="line"><a class="code hl_class" href="classlemlib_1_1TrackingWheel.html">lemlib::TrackingWheel</a> left_tracking_wheel(&amp;left_enc, 2.75, -4.6); <span class="comment">// 2.75&quot; wheel diameter, -4.6&quot; offset from tracking center</span></div>
<div class="line"><span class="comment">// right tracking wheel</span></div>
<div class="line"><a class="code hl_class" href="classlemlib_1_1TrackingWheel.html">lemlib::TrackingWheel</a> right_tracking_wheel(&amp;right_rot, 2.75, 1.7); <span class="comment">// 2.75&quot; wheel diameter, 1.7&quot; offset from tracking center</span></div>
<div class="line"><a class="code hl_class" href="classlemlib_1_1TrackingWheel.html">lemlib::TrackingWheel</a> back_tracking_wheel(&amp;back_enc, 2.75, 4.5); <span class="comment">// 2.75&quot; wheel diameter, 4.5&quot; offset from tracking center</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// inertial sensor</span></div>
<div class="line">pros::Imu inertial_sensor(2); <span class="comment">// port 2</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// odometry struct</span></div>
<div class="line"><a class="code hl_struct" href="structlemlib_1_1OdomSensors__t.html">lemlib::OdomSensors_t</a> sensors {</div>
<div class="line">    &amp;left_tracking_wheel, <span class="comment">// vertical tracking wheel 1</span></div>
<div class="line">    &amp;right_tracking_wheel, <span class="comment">// vertical tracking wheel 2</span></div>
<div class="line">    &amp;back_tracking_wheel, <span class="comment">// horizontal tracking wheel 1</span></div>
<div class="line">    <span class="keyword">nullptr</span>, <span class="comment">// we don&#39;t have a second tracking wheel, so we set it to nullptr</span></div>
<div class="line">    &amp;inertial_sensor <span class="comment">// inertial sensor</span></div>
<div class="line">};</div>
<div class="ttc" id="astructlemlib_1_1OdomSensors__t_html"><div class="ttname"><a href="structlemlib_1_1OdomSensors__t.html">lemlib::OdomSensors_t</a></div><div class="ttdoc">Struct containing all the sensors used for odometry.</div><div class="ttdef"><b>Definition:</b> chassis.hpp:33</div></div>
</div><!-- fragment --><p >You don't need all these sensors though. Even if you don't have any, you can still use LemLib. If you don't have a sensor, just set it to <code>nullptr</code>. Just remember that the more sensors you use, the more accurate the odometry will be.</p>
<h1><a class="anchor" id="autotoc_md15"></a>
PIDs</h1>
<p >Lemlib uses 2 PIDs to control the motion of the robot (except for pure pursuit). Every chassis will have different constants however, so you will need to tune them. More about that in the next tutorial. For now, just copy and paste the following code into your <code>main.cpp</code> file: </p><div class="fragment"><div class="line"><span class="comment">// forward/backward PID</span></div>
<div class="line"><a class="code hl_struct" href="structlemlib_1_1ChassisController__t.html">lemlib::ChassisController_t</a> lateralController {</div>
<div class="line">    8, <span class="comment">// kP</span></div>
<div class="line">    30, <span class="comment">// kD</span></div>
<div class="line">    1, <span class="comment">// smallErrorRange</span></div>
<div class="line">    100, <span class="comment">// smallErrorTimeout</span></div>
<div class="line">    3, <span class="comment">// largeErrorRange</span></div>
<div class="line">    500, <span class="comment">// largeErrorTimeout</span></div>
<div class="line">    5 <span class="comment">// slew rate</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// turning PID</span></div>
<div class="line"><a class="code hl_struct" href="structlemlib_1_1ChassisController__t.html">lemlib::ChassisController_t</a> angularController {</div>
<div class="line">    4, <span class="comment">// kP</span></div>
<div class="line">    40, <span class="comment">// kD</span></div>
<div class="line">    1, <span class="comment">// smallErrorRange</span></div>
<div class="line">    100, <span class="comment">// smallErrorTimeout</span></div>
<div class="line">    3, <span class="comment">// largeErrorRange</span></div>
<div class="line">    500, <span class="comment">// largeErrorTimeout</span></div>
<div class="line">    0 <span class="comment">// slew rate</span></div>
<div class="line">};</div>
<div class="ttc" id="astructlemlib_1_1ChassisController__t_html"><div class="ttname"><a href="structlemlib_1_1ChassisController__t.html">lemlib::ChassisController_t</a></div><div class="ttdoc">Struct containing constants for a chassis controller.</div><div class="ttdef"><b>Definition:</b> chassis.hpp:55</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md16"></a>
Putting it all together</h1>
<p >Below is everything we have done so far, all passed to the <code><a class="el" href="classlemlib_1_1Chassis.html" title="Chassis class.">lemlib::Chassis</a></code> constructor: </p><div class="fragment"><div class="line"><span class="comment">// drivetrain motors</span></div>
<div class="line">pros::Motor left_front_motor(1, <span class="keyword">false</span>); <span class="comment">// port 1, not reversed</span></div>
<div class="line">pros::Motor left_back_motor(2, <span class="keyword">false</span>); <span class="comment">// port 2, not reversed</span></div>
<div class="line">pros::Motor right_front_motor(3, <span class="keyword">true</span>); <span class="comment">// port 3, reversed</span></div>
<div class="line">pros::Motor right_back_motor(4, <span class="keyword">true</span>); <span class="comment">// port 4, reversed</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// drivetrain motor groups</span></div>
<div class="line">pros::MotorGroup left_side_motors({left_front_motor, left_back_motor});</div>
<div class="line">pros::MotorGroup right_side_motors({right_front_motor, right_back_motor});</div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="structlemlib_1_1Drivetrain__t.html">lemlib::Drivetrain_t</a> drivetrain {</div>
<div class="line">    &amp;left_side_motors, <span class="comment">// left drivetrain motors</span></div>
<div class="line">    &amp;right_side_motors, <span class="comment">// right drivetrain motors</span></div>
<div class="line">    10, <span class="comment">// track width</span></div>
<div class="line">    3.25, <span class="comment">// wheel diameter</span></div>
<div class="line">    360 <span class="comment">// wheel rpm</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// left tracking wheel encoder</span></div>
<div class="line">pros::ADIEncoder left_enc(<span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;B&#39;</span>, <span class="keyword">true</span>); <span class="comment">// ports A and B, reversed</span></div>
<div class="line"><span class="comment">// right tracking wheel encoder</span></div>
<div class="line">pros::Rotation right_rot(1, <span class="keyword">false</span>); <span class="comment">// port 1, not reversed</span></div>
<div class="line"><span class="comment">// back tracking wheel encoder</span></div>
<div class="line">pros::ADIEncoder back_enc(<span class="charliteral">&#39;C&#39;</span>, <span class="charliteral">&#39;D&#39;</span>, <span class="keyword">false</span>); <span class="comment">// ports C and D, not reversed</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// left tracking wheel</span></div>
<div class="line"><a class="code hl_class" href="classlemlib_1_1TrackingWheel.html">lemlib::TrackingWheel</a> left_tracking_wheel(&amp;left_enc, 2.75, -4.6); <span class="comment">// 2.75&quot; wheel diameter, -4.6&quot; offset from tracking center</span></div>
<div class="line"><span class="comment">// right tracking wheel</span></div>
<div class="line"><a class="code hl_class" href="classlemlib_1_1TrackingWheel.html">lemlib::TrackingWheel</a> right_tracking_wheel(&amp;right_rot, 2.75, 1.7); <span class="comment">// 2.75&quot; wheel diameter, 1.7&quot; offset from tracking center</span></div>
<div class="line"><a class="code hl_class" href="classlemlib_1_1TrackingWheel.html">lemlib::TrackingWheel</a> back_tracking_wheel(&amp;back_enc, 2.75, 4.5); <span class="comment">// 2.75&quot; wheel diameter, 4.5&quot; offset from tracking center</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// inertial sensor</span></div>
<div class="line">pros::Imu inertial_sensor(2); <span class="comment">// port 2</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// odometry struct</span></div>
<div class="line"><a class="code hl_struct" href="structlemlib_1_1OdomSensors__t.html">lemlib::OdomSensors_t</a> sensors {</div>
<div class="line">    &amp;left_tracking_wheel, <span class="comment">// vertical tracking wheel 1</span></div>
<div class="line">    &amp;right_tracking_wheel, <span class="comment">// vertical tracking wheel 2</span></div>
<div class="line">    &amp;back_tracking_wheel, <span class="comment">// horizontal tracking wheel 1</span></div>
<div class="line">    <span class="keyword">nullptr</span>, <span class="comment">// we don&#39;t have a second tracking wheel, so we set it to nullptr</span></div>
<div class="line">    &amp;inertial_sensor <span class="comment">// inertial sensor</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// forward/backward PID</span></div>
<div class="line"><a class="code hl_struct" href="structlemlib_1_1ChassisController__t.html">lemlib::ChassisController_t</a> lateralController {</div>
<div class="line">    8, <span class="comment">// kP</span></div>
<div class="line">    30, <span class="comment">// kD</span></div>
<div class="line">    1, <span class="comment">// smallErrorRange</span></div>
<div class="line">    100, <span class="comment">// smallErrorTimeout</span></div>
<div class="line">    3, <span class="comment">// largeErrorRange</span></div>
<div class="line">    500, <span class="comment">// largeErrorTimeout</span></div>
<div class="line">    5 <span class="comment">// slew rate</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// turning PID</span></div>
<div class="line"><a class="code hl_struct" href="structlemlib_1_1ChassisController__t.html">lemlib::ChassisController_t</a> angularController {</div>
<div class="line">    4, <span class="comment">// kP</span></div>
<div class="line">    40, <span class="comment">// kD</span></div>
<div class="line">    1, <span class="comment">// smallErrorRange</span></div>
<div class="line">    100, <span class="comment">// smallErrorTimeout</span></div>
<div class="line">    3, <span class="comment">// largeErrorRange</span></div>
<div class="line">    500, <span class="comment">// largeErrorTimeout</span></div>
<div class="line">    40 <span class="comment">// slew rate</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// create the chassis</span></div>
<div class="line"><a class="code hl_class" href="classlemlib_1_1Chassis.html">lemlib::Chassis</a> chassis(drivetrain, lateralController, angularController, sensors);</div>
<div class="ttc" id="aclasslemlib_1_1Chassis_html"><div class="ttname"><a href="classlemlib_1_1Chassis.html">lemlib::Chassis</a></div><div class="ttdoc">Chassis class.</div><div class="ttdef"><b>Definition:</b> chassis.hpp:77</div></div>
</div><!-- fragment --><p >Thats it! You have now set up the chassis. In the next tutorial, we will learn how to use the chassis to move the robot and how to tune the PIDs.</p>
<p ><a class="el" href="md_docs_tutorials_1_getting_started.html">Previous Tutorial</a> <br  />
 <a class="el" href="md_docs_tutorials_3_tuning_and_moving.html">Next Tutorial</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by Doxygen v1.9.5 </li>
  </ul>
</div>
</body>
</html>
